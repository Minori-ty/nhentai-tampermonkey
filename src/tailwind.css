@import 'tailwindcss/theme.css' layer(theme);
@import 'tailwindcss/utilities.css' layer(utilities);

@theme {
    --color-nhentai: #ed2553;
    --color-scroll-primary: #4caf50;
    --color-scroll-primary-hover: #388e3c;
}

@layer utilities {
    /* 滚动按钮强制覆盖样式：选择器高权重 + utilities 层高优先级 + !important */
    #scroll-mode.btn.btn-primary {
        @apply border-scroll-primary! bg-scroll-primary! ml-0;
        /* 注释说明：! 用于强制覆盖原有按钮的 border/bg 样式 */
    }

    #scroll-mode.btn.btn-primary:hover {
        @apply border-scroll-primary-hover! bg-scroll-primary-hover!;
    }

    #scroll-mode.btn.btn-primary .fa {
        @apply mr-[5px];
    }
}

@layer components {
    .image-placeholder {
        @apply mx-auto flex items-center justify-center bg-[#2a2a2a];
    }

    .nhentai-image {
        @apply mx-auto block h-[90vh] w-auto object-contain;
    }

    .image-base {
        @apply absolute rounded-sm bg-black/70 px-2.5 py-[5px] text-[14px] text-white;
    }

    .page-base {
        @apply fixed z-50 rounded-sm bg-gray-600 px-5 py-1;
    }

    /* 电脑 */
    @media (min-aspect-ratio: 1/1) {
        .image-placeholder {
            @apply h-[90vh] w-[calc(90vh*64/91)];
        }
        .nhentai-image {
            @apply h-[90vh] w-auto;
        }
        .page-indicator {
            @apply top-32 right-5;
        }
        .image-indicator {
            @apply top-5 right-2.5;
        }
    }

    /* 手机 */
    @media (max-aspect-ratio: 1/1) {
        .image-placeholder {
            @apply h-[calc(90vw*91/64)] w-[90vw];
        }

        .nhentai-image {
            @apply h-auto w-[90vw];
        }

        .page-indicator {
            @apply top-10 right-0;
        }

        .image-indicator {
            @apply top-[5px] right-[5px];
        }
    }

    .gallery,
    .thumb-container {
        @apply lg:relative lg:z-1 lg:transition-transform lg:duration-300 lg:ease-in-out;

        /* 嵌套 hover 伪类（对应原 .gallery:hover 和 .thumb-container:hover） */
        &:hover {
            @apply lg:z-50 lg:scale-130;
        }

        /* 嵌套子元素 .caption（对应原独立的 .caption 样式，明确是父元素的子元素） */
        .caption {
            @apply lg:bg-black/70 lg:p-2 lg:transition-all lg:duration-300 lg:ease-in-out;
        }
    }
}
